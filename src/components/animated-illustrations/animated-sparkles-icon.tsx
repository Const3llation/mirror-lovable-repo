import Image from "next/image";
import styles from "./animated-sparkles-icon.module.css";

interface SparklesIconAnimationProps {
	className?: string;
	size?: number;
	backgroundImage?: string;
}

export default function SparklesIconAnimation({
	className,
	size = 311,
	backgroundImage = "/grid-dense.webp",
}: SparklesIconAnimationProps) {
	const aspectRatio = 311 / 311;
	const height = size * aspectRatio;
	const backgroundSize = size * 1.4;

	return (
		<div className={styles.sparklesContainer}>
			<div className={styles.svgWrapper} style={{ width: size, height }}>
				<div
					className={`${styles.glowContainer} pointer-events-none`}
					style={{
						width: size,
						height,
						position: "absolute",
						inset: 0,
						zIndex: 0,
						borderRadius: "inherit",
					}}
				>
					<div
						className={`${styles.glow} absolute`}
						style={{
							width: size * 2,
							height: size * 2,
							left: "50%",
							top: "50%",
							transform: "translate(-50%, -50%)",
							background:
								"radial-gradient(circle, rgba(104, 75, 255, 0.5) 0%, transparent 50%)",
							borderRadius: "50%",
							filter: "blur(25px)",
							opacity: 0.8,
							pointerEvents: "none",
						}}
					/>
				</div>

				<svg
					width={size}
					height={height}
					viewBox="0 0 311 311"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
					className={`${styles.sparklesIcon} ${className || ""}`}
					role="img"
					aria-labelledby="sparklesTitle sparklesDesc"
				>
					<title id="sparklesTitle">Sparkles Icon</title>
					<desc id="sparklesDesc">
						An animated sparkles icon representing premium features
					</desc>

					<g id="icon/sparkles" className={styles.sparklesGroup}>
						<foreignObject
							x="-5.17227"
							y="-4.7875"
							width="323.2"
							height="323.2"
						>
							<div
								style={{
									backdropFilter: "blur(3.8px)",
									clipPath: "url(#bgblur_0_474_16818_clip_path)",
									height: "100%",
									width: "100%",
								}}
							/>
						</foreignObject>
						<path
							className={styles.first}
							d="M137.557 10.2638C146.234 1.24387 160.58 0.965567 169.6 9.64218L302.976 137.942C311.996 146.619 312.275 160.965 303.598 169.984L175.298 303.361C166.622 312.381 152.276 312.659 143.256 303.983L9.87905 175.683C0.859108 167.006 0.580801 152.66 9.25742 143.64L137.557 10.2638Z"
							fill="#D9D9D9"
							fillOpacity="0.1"
							stroke="white"
							strokeOpacity="0.22"
							strokeLinecap="round"
							strokeLinejoin="round"
						/>
						<foreignObject x="38.8277" y="38.2125" width="239.2" height="238.2">
							<div
								style={{
									backdropFilter: "blur(3.8px)",
									clipPath: "url(#bgblur_1_474_16818_clip_path)",
									height: "100%",
									width: "100%",
								}}
							/>
						</foreignObject>
						<path
							className={styles.second}
							d="M140.322 53.2543C149.026 44.2467 163.417 43.9688 172.465 52.6335L262.955 139.288C272.003 147.953 272.282 162.279 263.578 171.287L176.533 261.371C167.829 270.378 153.439 270.656 144.39 261.992L53.9008 175.337C44.8527 166.672 44.5735 152.346 53.2772 143.338L140.322 53.2543Z"
							fill="#D9D9D9"
							fillOpacity="0.03"
							stroke="white"
							strokeOpacity="0.22"
							strokeLinecap="round"
							strokeLinejoin="round"
						/>
						<foreignObject x="82.8277" y="83.2125" width="150.2" height="150.2">
							<div
								style={{
									backdropFilter: "blur(3.8px)",
									clipPath: "url(#bgblur_2_474_16818_clip_path)",
									height: "100%",
									width: "100%",
								}}
							/>
						</foreignObject>
						<path
							className={styles.third}
							d="M140.74 98.2619C149.414 89.2445 163.756 88.9662 172.773 97.6404L217.978 141.125C226.996 149.799 227.274 164.141 218.6 173.158L175.116 218.363C166.441 227.381 152.099 227.659 143.082 218.985L97.8771 175.5C88.8597 166.826 88.5815 152.484 97.2556 143.467L140.74 98.2619Z"
							fill="#D9D9D9"
							fillOpacity="0.03"
							stroke="white"
							strokeOpacity="0.22"
							strokeLinecap="round"
							strokeLinejoin="round"
						/>
						<g id="center" className={styles.center}>
							<mask
								id="path-4-outside-1_474_16818"
								maskUnits="userSpaceOnUse"
								x="121.488"
								y="119.25"
								width="69"
								height="69"
								fill="black"
							>
								<rect
									fill="white"
									x="121.488"
									y="119.25"
									width="69"
									height="69"
								/>
								<path d="M174.569 155.298L160.062 149.937L154.718 135.419C154.402 134.56 153.829 133.818 153.078 133.294C152.327 132.77 151.433 132.489 150.517 132.489C149.601 132.489 148.706 132.77 147.955 133.294C147.204 133.818 146.631 134.56 146.315 135.419L140.937 149.937L126.419 155.281C125.559 155.598 124.817 156.17 124.293 156.922C123.769 157.673 123.488 158.567 123.488 159.483C123.488 160.399 123.769 161.293 124.293 162.045C124.817 162.796 125.559 163.369 126.419 163.685L140.937 169.062L146.281 183.581C146.597 184.44 147.17 185.182 147.921 185.706C148.673 186.23 149.567 186.511 150.483 186.511C151.399 186.511 152.293 186.23 153.044 185.706C153.796 185.182 154.368 184.44 154.685 183.581L160.062 169.062L174.58 163.719C175.44 163.402 176.182 162.83 176.706 162.078C177.23 161.327 177.511 160.433 177.511 159.517C177.511 158.601 177.23 157.707 176.706 156.955C176.182 156.204 175.44 155.631 174.58 155.315L174.569 155.298ZM157.531 165.187C157.226 165.299 156.948 165.477 156.718 165.707C156.488 165.937 156.31 166.215 156.198 166.52L150.5 181.958L144.813 166.531C144.7 166.223 144.522 165.942 144.29 165.71C144.057 165.478 143.777 165.299 143.468 165.187L128.042 159.5L143.468 153.813C143.777 153.701 144.057 153.522 144.29 153.29C144.522 153.058 144.7 152.777 144.813 152.469L150.5 137.042L156.187 152.469C156.299 152.774 156.477 153.052 156.707 153.282C156.937 153.512 157.214 153.689 157.52 153.802L172.958 159.5L157.531 165.187ZM159.5 130.25C159.5 129.653 159.737 129.081 160.159 128.659C160.581 128.237 161.153 128 161.75 128H166.25V123.5C166.25 122.903 166.487 122.331 166.909 121.909C167.331 121.487 167.903 121.25 168.5 121.25C169.096 121.25 169.669 121.487 170.091 121.909C170.513 122.331 170.75 122.903 170.75 123.5V128H175.25C175.846 128 176.419 128.237 176.841 128.659C177.263 129.081 177.5 129.653 177.5 130.25C177.5 130.847 177.263 131.419 176.841 131.841C176.419 132.263 175.846 132.5 175.25 132.5H170.75V137C170.75 137.597 170.513 138.169 170.091 138.591C169.669 139.013 169.096 139.25 168.5 139.25C167.903 139.25 167.331 139.013 166.909 138.591C166.487 138.169 166.25 137.597 166.25 137V132.5H161.75C161.153 132.5 160.581 132.263 160.159 131.841C159.737 131.419 159.5 130.847 159.5 130.25ZM188.75 143.75C188.75 144.347 188.513 144.919 188.091 145.341C187.669 145.763 187.096 146 186.5 146H184.25V148.25C184.25 148.847 184.013 149.419 183.591 149.841C183.169 150.263 182.596 150.5 182 150.5C181.403 150.5 180.831 150.263 180.409 149.841C179.987 149.419 179.75 148.847 179.75 148.25V146H177.5C176.903 146 176.331 145.763 175.909 145.341C175.487 144.919 175.25 144.347 175.25 143.75C175.25 143.153 175.487 142.581 175.909 142.159C176.331 141.737 176.903 141.5 177.5 141.5H179.75V139.25C179.75 138.653 179.987 138.081 180.409 137.659C180.831 137.237 181.403 137 182 137C182.596 137 183.169 137.237 183.591 137.659C184.013 138.081 184.25 138.653 184.25 139.25V141.5H186.5C187.096 141.5 187.669 141.737 188.091 142.159C188.513 142.581 188.75 143.153 188.75 143.75Z" />
							</mask>
							<path
								d="M174.569 155.298L160.062 149.937L154.718 135.419C154.402 134.56 153.829 133.818 153.078 133.294C152.327 132.77 151.433 132.489 150.517 132.489C149.601 132.489 148.706 132.77 147.955 133.294C147.204 133.818 146.631 134.56 146.315 135.419L140.937 149.937L126.419 155.281C125.559 155.598 124.817 156.17 124.293 156.922C123.769 157.673 123.488 158.567 123.488 159.483C123.488 160.399 123.769 161.293 124.293 162.045C124.817 162.796 125.559 163.369 126.419 163.685L140.937 169.062L146.281 183.581C146.597 184.44 147.17 185.182 147.921 185.706C148.673 186.23 149.567 186.511 150.483 186.511C151.399 186.511 152.293 186.23 153.044 185.706C153.796 185.182 154.368 184.44 154.685 183.581L160.062 169.062L174.58 163.719C175.44 163.402 176.182 162.83 176.706 162.078C177.23 161.327 177.511 160.433 177.511 159.517C177.511 158.601 177.23 157.707 176.706 156.955C176.182 156.204 175.44 155.631 174.58 155.315L174.569 155.298ZM157.531 165.187C157.226 165.299 156.948 165.477 156.718 165.707C156.488 165.937 156.31 166.215 156.198 166.52L150.5 181.958L144.813 166.531C144.7 166.223 144.522 165.942 144.29 165.71C144.057 165.478 143.777 165.299 143.468 165.187L128.042 159.5L143.468 153.813C143.777 153.701 144.057 153.522 144.29 153.29C144.522 153.058 144.7 152.777 144.813 152.469L150.5 137.042L156.187 152.469C156.299 152.774 156.477 153.052 156.707 153.282C156.937 153.512 157.214 153.689 157.52 153.802L172.958 159.5L157.531 165.187ZM159.5 130.25C159.5 129.653 159.737 129.081 160.159 128.659C160.581 128.237 161.153 128 161.75 128H166.25V123.5C166.25 122.903 166.487 122.331 166.909 121.909C167.331 121.487 167.903 121.25 168.5 121.25C169.096 121.25 169.669 121.487 170.091 121.909C170.513 122.331 170.75 122.903 170.75 123.5V128H175.25C175.846 128 176.419 128.237 176.841 128.659C177.263 129.081 177.5 129.653 177.5 130.25C177.5 130.847 177.263 131.419 176.841 131.841C176.419 132.263 175.846 132.5 175.25 132.5H170.75V137C170.75 137.597 170.513 138.169 170.091 138.591C169.669 139.013 169.096 139.25 168.5 139.25C167.903 139.25 167.331 139.013 166.909 138.591C166.487 138.169 166.25 137.597 166.25 137V132.5H161.75C161.153 132.5 160.581 132.263 160.159 131.841C159.737 131.419 159.5 130.847 159.5 130.25ZM188.75 143.75C188.75 144.347 188.513 144.919 188.091 145.341C187.669 145.763 187.096 146 186.5 146H184.25V148.25C184.25 148.847 184.013 149.419 183.591 149.841C183.169 150.263 182.596 150.5 182 150.5C181.403 150.5 180.831 150.263 180.409 149.841C179.987 149.419 179.75 148.847 179.75 148.25V146H177.5C176.903 146 176.331 145.763 175.909 145.341C175.487 144.919 175.25 144.347 175.25 143.75C175.25 143.153 175.487 142.581 175.909 142.159C176.331 141.737 176.903 141.5 177.5 141.5H179.75V139.25C179.75 138.653 179.987 138.081 180.409 137.659C180.831 137.237 181.403 137 182 137C182.596 137 183.169 137.237 183.591 137.659C184.013 138.081 184.25 138.653 184.25 139.25V141.5H186.5C187.096 141.5 187.669 141.737 188.091 142.159C188.513 142.581 188.75 143.153 188.75 143.75Z"
								fill="url(#paint0_linear_474_16818)"
							/>
							<path
								d="M174.569 155.298L160.062 149.937L154.718 135.419C154.402 134.56 153.829 133.818 153.078 133.294C152.327 132.77 151.433 132.489 150.517 132.489C149.601 132.489 148.706 132.77 147.955 133.294C147.204 133.818 146.631 134.56 146.315 135.419L140.937 149.937L126.419 155.281C125.559 155.598 124.817 156.17 124.293 156.922C123.769 157.673 123.488 158.567 123.488 159.483C123.488 160.399 123.769 161.293 124.293 162.045C124.817 162.796 125.559 163.369 126.419 163.685L140.937 169.062L146.281 183.581C146.597 184.44 147.17 185.182 147.921 185.706C148.673 186.23 149.567 186.511 150.483 186.511C151.399 186.511 152.293 186.23 153.044 185.706C153.796 185.182 154.368 184.44 154.685 183.581L160.062 169.062L174.58 163.719C175.44 163.402 176.182 162.83 176.706 162.078C177.23 161.327 177.511 160.433 177.511 159.517C177.511 158.601 177.23 157.707 176.706 156.955C176.182 156.204 175.44 155.631 174.58 155.315L174.569 155.298ZM157.531 165.187C157.226 165.299 156.948 165.477 156.718 165.707C156.488 165.937 156.31 166.215 156.198 166.52L150.5 181.958L144.813 166.531C144.7 166.223 144.522 165.942 144.29 165.71C144.057 165.478 143.777 165.299 143.468 165.187L128.042 159.5L143.468 153.813C143.777 153.701 144.057 153.522 144.29 153.29C144.522 153.058 144.7 152.777 144.813 152.469L150.5 137.042L156.187 152.469C156.299 152.774 156.477 153.052 156.707 153.282C156.937 153.512 157.214 153.689 157.52 153.802L172.958 159.5L157.531 165.187ZM159.5 130.25C159.5 129.653 159.737 129.081 160.159 128.659C160.581 128.237 161.153 128 161.75 128H166.25V123.5C166.25 122.903 166.487 122.331 166.909 121.909C167.331 121.487 167.903 121.25 168.5 121.25C169.096 121.25 169.669 121.487 170.091 121.909C170.513 122.331 170.75 122.903 170.75 123.5V128H175.25C175.846 128 176.419 128.237 176.841 128.659C177.263 129.081 177.5 129.653 177.5 130.25C177.5 130.847 177.263 131.419 176.841 131.841C176.419 132.263 175.846 132.5 175.25 132.5H170.75V137C170.75 137.597 170.513 138.169 170.091 138.591C169.669 139.013 169.096 139.25 168.5 139.25C167.903 139.25 167.331 139.013 166.909 138.591C166.487 138.169 166.25 137.597 166.25 137V132.5H161.75C161.153 132.5 160.581 132.263 160.159 131.841C159.737 131.419 159.5 130.847 159.5 130.25ZM188.75 143.75C188.75 144.347 188.513 144.919 188.091 145.341C187.669 145.763 187.096 146 186.5 146H184.25V148.25C184.25 148.847 184.013 149.419 183.591 149.841C183.169 150.263 182.596 150.5 182 150.5C181.403 150.5 180.831 150.263 180.409 149.841C179.987 149.419 179.75 148.847 179.75 148.25V146H177.5C176.903 146 176.331 145.763 175.909 145.341C175.487 144.919 175.25 144.347 175.25 143.75C175.25 143.153 175.487 142.581 175.909 142.159C176.331 141.737 176.903 141.5 177.5 141.5H179.75V139.25C179.75 138.653 179.987 138.081 180.409 137.659C180.831 137.237 181.403 137 182 137C182.596 137 183.169 137.237 183.591 137.659C184.013 138.081 184.25 138.653 184.25 139.25V141.5H186.5C187.096 141.5 187.669 141.737 188.091 142.159C188.513 142.581 188.75 143.153 188.75 143.75Z"
								stroke="#342B6F"
								strokeWidth="3"
								mask="url(#path-4-outside-1_474_16818)"
							/>
						</g>
					</g>
					<defs>
						<clipPath id="bgblur_0_474_16818_clip_path">
							<path
								transform="translate(5.17227 4.7875)"
								d="M137.557 10.2638C146.234 1.24387 160.58 0.965567 169.6 9.64218L302.976 137.942C311.996 146.619 312.275 160.965 303.598 169.984L175.298 303.361C166.622 312.381 152.276 312.659 143.256 303.983L9.87905 175.683C0.859108 167.006 0.580801 152.66 9.25742 143.64L137.557 10.2638Z"
							/>
						</clipPath>
						<clipPath id="bgblur_1_474_16818_clip_path">
							<path
								transform="translate(-38.8277 -38.2125)"
								d="M140.322 53.2543C149.026 44.2467 163.417 43.9688 172.465 52.6335L262.955 139.288C272.003 147.953 272.282 162.279 263.578 171.287L176.533 261.371C167.829 270.378 153.439 270.656 144.39 261.992L53.9008 175.337C44.8527 166.672 44.5735 152.346 53.2772 143.338L140.322 53.2543Z"
							/>
						</clipPath>
						<clipPath id="bgblur_2_474_16818_clip_path">
							<path
								transform="translate(-82.8277 -83.2125)"
								d="M140.74 98.2619C149.414 89.2445 163.756 88.9662 172.773 97.6404L217.978 141.125C226.996 149.799 227.274 164.141 218.6 173.158L175.116 218.363C166.441 227.381 152.099 227.659 143.082 218.985L97.8771 175.5C88.8597 166.826 88.5815 152.484 97.2556 143.467L140.74 98.2619Z"
							/>
						</clipPath>
						<linearGradient
							id="paint0_linear_474_16818"
							x1="156.117"
							y1="121.25"
							x2="156.117"
							y2="186.511"
							gradientUnits="userSpaceOnUse"
						>
							<stop stopColor="#684BFF" />
							<stop offset="1" stopColor="#A9A7FF" />
						</linearGradient>
					</defs>
				</svg>
			</div>
			<div
				className={styles.imageWrapper}
				style={{ width: backgroundSize, height: backgroundSize }}
			>
				<Image
					src={backgroundImage}
					alt="Background texture"
					width={backgroundSize}
					height={backgroundSize}
					priority
				/>
			</div>
		</div>
	);
}
