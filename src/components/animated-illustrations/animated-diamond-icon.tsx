import Image from "next/image";
import styles from "./animated-diamond-icon.module.css";

interface DiamondIconAnimationProps {
	className?: string;
	size?: number;
	backgroundImage?: string;
}

export default function DiamondIconAnimation({
	className,
	size = 115,
	backgroundImage = "/grid.webp",
}: DiamondIconAnimationProps) {
	const aspectRatio = 115 / 115;
	const height = size * aspectRatio;
	const backgroundSize = size * 1.6;

	return (
		<div className={styles.diamondContainer}>
			<div className={styles.svgWrapper} style={{ width: size, height }}>
				<svg
					width={size}
					height={height}
					viewBox="0 0 115 115"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
					className={`${styles.diamondIcon} ${className || ""}`}
					role="img"
					aria-labelledby="diamondTitle diamondDesc"
				>
					<title id="diamondTitle">Diamond Icon</title>
					<desc id="diamondDesc">
						An animated diamond icon representing comprehensive features
					</desc>

					<g id="icon/comprehensive" className={styles.diamondGroup}>
						<foreignObject
							x="-5.17275"
							y="-4.78848"
							width="124.577"
							height="124.577"
						>
							<div
								style={{
									backdropFilter: "blur(3.8px)",
									clipPath: "url(#bgblur_0_229_17439_clip_path)",
									height: "100%",
									width: "100%",
								}}
							/>
						</foreignObject>
						<path
							className={styles.first}
							d="M50.454 5.76547C53.517 2.58126 58.5813 2.48301 61.7655 5.54602L108.85 50.8382C112.034 53.9012 112.132 58.9656 109.069 62.1498L63.7772 109.234C60.7142 112.418 55.6498 112.517 52.4656 109.454L5.38119 64.1615C2.19698 61.0985 2.09874 56.0341 5.16174 52.8499L50.454 5.76547Z"
							fill="#D9D9D9"
							fillOpacity="0.1"
							stroke="white"
							strokeOpacity="0.22"
							strokeLinecap="round"
							strokeLinejoin="round"
						/>
						<foreignObject
							x="10.4864"
							y="10.2115"
							width="94.678"
							height="94.678"
						>
							<div
								style={{
									backdropFilter: "blur(3.8px)",
									clipPath: "url(#bgblur_1_229_17439_clip_path)",
									height: "100%",
									width: "100%",
								}}
							/>
						</foreignObject>
						<path
							className={styles.second}
							d="M51.4538 20.7655C54.5169 17.5813 59.5812 17.483 62.7654 20.546L94.6105 51.1789C97.7947 54.242 97.893 59.3063 94.83 62.4905L64.197 94.3356C61.134 97.5198 56.0697 97.6181 52.8855 94.5551L21.0404 63.9221C17.8562 60.8591 17.7579 55.7948 20.8209 52.6105L51.4538 20.7655Z"
							fill="#D9D9D9"
							fillOpacity="0.03"
							stroke="white"
							strokeOpacity="0.22"
							strokeLinecap="round"
							strokeLinejoin="round"
						/>
						<foreignObject
							x="25.7644"
							y="26.2115"
							width="63.5177"
							height="63.5177"
						>
							<div
								style={{
									backdropFilter: "blur(3.8px)",
									clipPath: "url(#bgblur_2_229_17439_clip_path)",
									height: "100%",
									width: "100%",
								}}
							/>
						</foreignObject>
						<path
							className={styles.third}
							d="M51.4539 36.7655C54.5169 33.5813 59.5813 33.483 62.7655 36.546L78.7281 51.9011C81.9123 54.9641 82.0106 60.0284 78.9476 63.2126L63.5925 79.1753C60.5295 82.3595 55.4652 82.4577 52.281 79.3947L36.3183 64.0397C33.1341 60.9767 33.0359 55.9123 36.0989 52.7281L51.4539 36.7655Z"
							fill="#D9D9D9"
							fillOpacity="0.03"
							stroke="white"
							strokeOpacity="0.22"
							strokeLinecap="round"
							strokeLinejoin="round"
						/>
						<path
							className={styles.center}
							d="M56.9921 55.7092C57.0899 55.8022 57.206 55.8759 57.3338 55.9263C57.4616 55.9766 57.5985 56.0025 57.7368 56.0025C57.8752 56.0025 58.0121 55.9766 58.1399 55.9263C58.2677 55.8759 58.3838 55.8022 58.4815 55.7092L63.7444 50.7088C63.8423 50.6159 63.9199 50.5056 63.9729 50.3842C64.0258 50.2628 64.0531 50.1327 64.0531 50.0013C64.0531 49.8698 64.0258 49.7397 63.9729 49.6183C63.9199 49.4969 63.8423 49.3866 63.7444 49.2937L58.4815 44.2933C58.3838 44.2003 58.2677 44.1266 58.1399 44.0762C58.0121 44.0259 57.8752 44 57.7368 44C57.5985 44 57.4616 44.0259 57.3338 44.0762C57.206 44.1266 57.0899 44.2003 56.9921 44.2933L51.7293 49.2937C51.6314 49.3866 51.5538 49.4969 51.5008 49.6183C51.4478 49.7397 51.4206 49.8698 51.4206 50.0013C51.4206 50.1327 51.4478 50.2628 51.5008 50.3842C51.5538 50.5056 51.6314 50.6159 51.7293 50.7088L56.9921 55.7092ZM57.7368 46.4147L61.5116 50.0013L57.7368 53.5878L53.9621 50.0013L57.7368 46.4147ZM58.4815 60.2908C58.3838 60.1978 58.2677 60.1241 58.1399 60.0737C58.0121 60.0234 57.8752 59.9975 57.7368 59.9975C57.5985 59.9975 57.4616 60.0234 57.3338 60.0737C57.206 60.1241 57.0899 60.1978 56.9921 60.2908L51.7293 65.2912C51.6314 65.3841 51.5538 65.4944 51.5008 65.6158C51.4478 65.7372 51.4206 65.8673 51.4206 65.9987C51.4206 66.1302 51.4478 66.2603 51.5008 66.3817C51.5538 66.5031 51.6314 66.6134 51.7293 66.7063L56.9921 71.7067C57.0899 71.7997 57.206 71.8734 57.3338 71.9238C57.4616 71.9741 57.5985 72 57.7368 72C57.8752 72 58.0121 71.9741 58.1399 71.9238C58.2677 71.8734 58.3838 71.7997 58.4815 71.7067L63.7444 66.7063C63.8423 66.6134 63.9199 66.5031 63.9729 66.3817C64.0258 66.2603 64.0531 66.1302 64.0531 65.9987C64.0531 65.8673 64.0258 65.7372 63.9729 65.6158C63.9199 65.4944 63.8423 65.3841 63.7444 65.2912L58.4815 60.2908ZM57.7368 69.589L53.9621 66.0025L57.7368 62.416L61.5116 66.0025L57.7368 69.589ZM72.165 57.2943L66.9021 52.2939C66.8044 52.2009 66.6883 52.1272 66.5605 52.0769C66.4327 52.0265 66.2957 52.0006 66.1574 52.0006C66.0191 52.0006 65.8821 52.0265 65.7543 52.0769C65.6266 52.1272 65.5105 52.2009 65.4127 52.2939L60.1499 57.2943C60.052 57.3872 59.9744 57.4975 59.9214 57.6189C59.8684 57.7403 59.8412 57.8705 59.8412 58.0019C59.8412 58.1333 59.8684 58.2634 59.9214 58.3848C59.9744 58.5063 60.052 58.6166 60.1499 58.7094L65.4127 63.7098C65.5105 63.8028 65.6266 63.8766 65.7543 63.9269C65.8821 63.9772 66.0191 64.0031 66.1574 64.0031C66.2957 64.0031 66.4327 63.9772 66.5605 63.9269C66.6883 63.8766 66.8044 63.8028 66.9021 63.7098L72.165 58.7094C72.2628 58.6166 72.3405 58.5063 72.3935 58.3848C72.4464 58.2634 72.4737 58.1333 72.4737 58.0019C72.4737 57.8705 72.4464 57.7403 72.3935 57.6189C72.3405 57.4975 72.2628 57.3872 72.165 57.2943ZM66.1574 61.5884L62.3826 58.0019L66.1574 54.4153L69.9322 58.0019L66.1574 61.5884ZM55.3238 57.2943L50.061 52.2939C49.9632 52.2009 49.8471 52.1272 49.7193 52.0769C49.5916 52.0265 49.4546 52.0006 49.3163 52.0006C49.1779 52.0006 49.041 52.0265 48.9132 52.0769C48.7854 52.1272 48.6693 52.2009 48.5716 52.2939L43.3087 57.2943C43.2108 57.3872 43.1332 57.4975 43.0802 57.6189C43.0273 57.7403 43 57.8705 43 58.0019C43 58.1333 43.0273 58.2634 43.0802 58.3848C43.1332 58.5063 43.2108 58.6166 43.3087 58.7094L48.5716 63.7098C48.6693 63.8028 48.7854 63.8766 48.9132 63.9269C49.041 63.9772 49.1779 64.0031 49.3163 64.0031C49.4546 64.0031 49.5916 63.9772 49.7193 63.9269C49.8471 63.8766 49.9632 63.8028 50.061 63.7098L55.3238 58.7094C55.4217 58.6166 55.4993 58.5063 55.5523 58.3848C55.6053 58.2634 55.6325 58.1333 55.6325 58.0019C55.6325 57.8705 55.6053 57.7403 55.5523 57.6189C55.4993 57.4975 55.4217 57.3872 55.3238 57.2943ZM49.3163 61.5884L45.5415 58.0019L49.3163 54.4153L53.0911 58.0019L49.3163 61.5884Z"
							fill="url(#paint0_linear_229_17439)"
						/>
					</g>
					<defs>
						<clipPath id="bgblur_0_229_17439_clip_path">
							<path
								transform="translate(5.17275 4.78848)"
								d="M50.454 5.76547C53.517 2.58126 58.5813 2.48301 61.7655 5.54602L108.85 50.8382C112.034 53.9012 112.132 58.9656 109.069 62.1498L63.7772 109.234C60.7142 112.418 55.6498 112.517 52.4656 109.454L5.38119 64.1615C2.19698 61.0985 2.09874 56.0341 5.16174 52.8499L50.454 5.76547Z"
							/>
						</clipPath>
						<clipPath id="bgblur_1_229_17439_clip_path">
							<path
								transform="translate(-10.4864 -10.2115)"
								d="M51.4538 20.7655C54.5169 17.5813 59.5812 17.483 62.7654 20.546L94.6105 51.1789C97.7947 54.242 97.893 59.3063 94.83 62.4905L64.197 94.3356C61.134 97.5198 56.0697 97.6181 52.8855 94.5551L21.0404 63.9221C17.8562 60.8591 17.7579 55.7948 20.8209 52.6105L51.4538 20.7655Z"
							/>
						</clipPath>
						<clipPath id="bgblur_2_229_17439_clip_path">
							<path
								transform="translate(-25.7644 -26.2115)"
								d="M51.4539 36.7655C54.5169 33.5813 59.5813 33.483 62.7655 36.546L78.7281 51.9011C81.9123 54.9641 82.0106 60.0284 78.9476 63.2126L63.5925 79.1753C60.5295 82.3595 55.4652 82.4577 52.281 79.3947L36.3183 64.0397C33.1341 60.9767 33.0359 55.9123 36.0989 52.7281L51.4539 36.7655Z"
							/>
						</clipPath>
						<linearGradient
							id="paint0_linear_229_17439"
							x1="57.7368"
							y1="44"
							x2="57.7368"
							y2="72"
							gradientUnits="userSpaceOnUse"
						>
							<stop stopColor="white" />
							<stop offset="1" stopColor="#999999" />
						</linearGradient>
					</defs>
				</svg>
			</div>
			<div
				className={styles.imageWrapper}
				style={{ width: backgroundSize, height: backgroundSize }}
			>
				<Image
					src={backgroundImage}
					alt="Background texture"
					width={backgroundSize}
					height={backgroundSize}
					priority
				/>
			</div>
		</div>
	);
}
